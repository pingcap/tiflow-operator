apiVersion: v1
kind: Namespace
metadata:
  name: basic-0
---
apiVersion: pingcap.com/v1alpha1
kind: TiflowCluster
metadata:
  name: basic
  namespace: basic-0
spec:
  version: latest
  configUpdateStrategy: RollingUpdate
  imagePullPolicy: Always
  executor:
    baseImage: chunzhuli/dataflow
    maxFailoverCount: 0
    replicas: 3
    stateful: false
    config: |
      keepalive-ttl = "20s"
      keepalive-interval = "500ms"
      session-ttl = 20
  cluster:
    namespace: "default"
    name: "basic"
---
apiVersion: v1
kind: Namespace
metadata:
  name: basic-1
---
apiVersion: pingcap.com/v1alpha1
kind: TiflowCluster
metadata:
  name: basic
  namespace: basic-1
spec:
  version: latest
  configUpdateStrategy: RollingUpdate
  imagePullPolicy: Always
  executor:
    baseImage: chunzhuli/dataflow
    maxFailoverCount: 0
    replicas: 3
    stateful: false
    config: |
      keepalive-ttl = "20s"
      keepalive-interval = "500ms"
      session-ttl = 20
  cluster:
    namespace: "default"
    name: "basic"
---
apiVersion: v1
kind: Namespace
metadata:
  name: basic-2
---
apiVersion: pingcap.com/v1alpha1
kind: TiflowCluster
metadata:
  name: basic
  namespace: basic-2
spec:
  version: latest
  configUpdateStrategy: RollingUpdate
  imagePullPolicy: Always
  executor:
    baseImage: chunzhuli/dataflow
    maxFailoverCount: 0
    replicas: 3
    stateful: false
    config: |
      keepalive-ttl = "20s"
      keepalive-interval = "500ms"
      session-ttl = 20
  cluster:
    namespace: "default"
    name: "basic"
